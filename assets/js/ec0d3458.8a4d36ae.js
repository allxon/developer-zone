"use strict";(self.webpackChunkocto_develop_zone=self.webpackChunkocto_develop_zone||[]).push([[9997],{9477:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var s=n(4848),a=n(8453);const i={},o=void 0,r={id:"Implement Features/States",title:"States",description:"states-sequence",source:"@site/versioned_docs/version-1.1.0/Implement Features/States.md",sourceDirName:"Implement Features",slug:"/Implement Features/States",permalink:"/1.1.0/Implement Features/States",draft:!1,unlisted:!1,editUrl:"https://github.com/allxon/developer-zone/edit/master/versioned_docs/version-1.1.0/Implement Features/States.md",tags:[],version:"1.1.0",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Properties",permalink:"/1.1.0/Implement Features/Properties"},next:{title:"Commands",permalink:"/1.1.0/Implement Features/Commands"}},d={},l=[];function c(e){const t={admonition:"admonition",code:"code",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"states-sequence",src:n(3801).A+"",width:"442",height:"276"})}),"\n",(0,s.jsxs)(t.p,{children:["States Card is designed for realtime data and repesent current device states information, these data won't be reserve on Allxon Portal, only keeps latest data. Send ",(0,s.jsx)(t.code,{children:"v2/notifyPluginUpdate"})," to initialize States Card, After that, Keep sending ",(0,s.jsx)(t.code,{children:"v2/notifyPluginState"})," to continue update States Card information. Take a look at the example:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",metastring:"{17-25}",children:'{\n  "jsonrpc": "2.0",\n  "method": "v2/notifyPluginUpdate",\n  "params": {\n    "sdk": "${OCTO_SDK_VERSION}",\n    "appGUID": "${PLUGIN_APP_GUID}",\n    "appName": "${PLUGIN_NAME}",\n    "epoch": "",\n    "displayName": "Device Info",\n    "type": "ib",\n    "version": "${PLUGIN_VERSION}",\n    "modules": [\n      {\n        "moduleName": "device-info-plugin",\n        "displayName": "Device Info",\n        "properties": [],\n        "states": [\n          {\n            "name": "battery-percent",\n            "displayCategory": "Power",\n            "displayName": "Battery",\n            "description": "remaining battery percentage",\n            "displayType": "string"\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["After Sending ",(0,s.jsx)(t.code,{children:"v2/notifyPluginUpdate"})," JSON above, Allxon Portal will show States Card below. Value behind Battery is empty, because it's still in initialize state."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"states-card",src:n(7904).A+"",width:"586",height:"315"})}),"\n",(0,s.jsxs)(t.p,{children:["Next, we try to send ",(0,s.jsx)(t.code,{children:"v2/notifyPluginState"})," to assign and update Battery value:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",metastring:"{11}",children:'{\n  "jsonrpc": "2.0",\n  "method": "v2/notifyPluginState",\n  "params": {\n    "appGUID": "${PLUGIN_APP_GUID}",\n    "moduleName": "${PLUGIN_NAME}",\n    "epoch": "",\n    "states": [\n      {\n        "name": "battery-percent",\n        "value": "50"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"Then you can see Battery's value already update, and update time will show below the value."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"states-battery",src:n(4705).A+"",width:"585",height:"316"})}),"\n",(0,s.jsx)(t.admonition,{title:"Limitation",type:"note",children:(0,s.jsx)(t.p,{children:"The update frequency of the States value is at least once a minute."})})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},4705:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/states-battery-50-42f8309493a27ebd3e79cbbae292e489.png"},7904:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/states-card-cb8ff633c669d9ab781cbabb015e1e03.png"},3801:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/states-sequence-4bf3d4f5a5291840e2ebdc6349d16d8f.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var s=n(6540);const a={},i=s.createContext(a);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);