"use strict";(self.webpackChunkocto_develop_zone=self.webpackChunkocto_develop_zone||[]).push([[8260],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),s=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=s(e.components);return r.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=s(t),m=a,g=u["".concat(p,".").concat(m)]||u[m]||d[m]||l;return t?r.createElement(g,o(o({ref:n},c),{},{components:t})):r.createElement(g,o({ref:n},c))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,o=new Array(l);o[0]=u;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var s=2;s<l;s++)o[s]=t[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},1854:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var r=t(7462),a=(t(7294),t(3905));const l={},o=void 0,i={unversionedId:"Overview/Alerts",id:"Overview/Alerts",title:"Alerts",description:"alert-sequence",source:"@site/docs/Overview/Alerts.md",sourceDirName:"Overview",slug:"/Overview/Alerts",permalink:"/developer-zone/Overview/Alerts",draft:!1,editUrl:"https://github.com/allxon/developer-zone/edit/master/docs/Overview/Alerts.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Commands",permalink:"/developer-zone/Overview/Commands"},next:{title:"Metrics",permalink:"/developer-zone/Overview/Metrics"}},p={},s=[],c={toc:s};function d(e){let{components:n,...l}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,l,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"alert-sequence",src:t(2445).Z,width:"445",height:"282"})),(0,a.kt)("p",null,"Alert can bring your alert message up to Allxon Portal, then Allxon Portal can tranfer message to your email, webhook, LINE ..., depend on your setting on Allxon Portal. Just like other Cards, send ",(0,a.kt)("inlineCode",{parentName:"p"},"v2/notifyPluginUpdate")," to initialize Alert Card. If you have Alert setting on Allxon Portal, you will get ",(0,a.kt)("inlineCode",{parentName:"p"},"v2/notifyPluginAlarmUpdate")," after sending ",(0,a.kt)("inlineCode",{parentName:"p"},"v2/notifPluginUpdate"),". After that, you can send ",(0,a.kt)("inlineCode",{parentName:"p"},"v2/notifyPluginAlert")," whenever you wanna trigger Alert."),(0,a.kt)("p",null,"Let's take a look at the example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"{17-25}","{17-25}":!0},'{\n    "jsonrpc": "2.0",\n    "method": "v2/notifyPluginUpdate",\n    "params": {\n        "sdk": "2.0.2",\n        "appGUID": "a8e873a1-e5df-43a2-928a-745ff9c94dfb",\n        "appName": "plugin-hello",\n        "epoch": "1664259325",\n        "displayName": "plugIN Hello",\n        "type": "ib",\n        "version": "1.0.1",\n        "modules": [\n            {\n                "moduleName": "plugin-hello",\n                "displayName": "plugIN Hello",\n                "properties": [],\n                "alarms": [\n                    {\n                        "name": "hello_alarm",\n                        "displayCategory": "Message",\n                        "displayName": "Hello alarm",\n                        "description": "Trigger when someone say hello",\n                        "params": []\n                    }\n                ]\n            }\n        ]\n    }\n}\n')),(0,a.kt)("p",null,"After sending ",(0,a.kt)("inlineCode",{parentName:"p"},"v2/notifyPluginUpdate"),", Alert Card will look like the image below."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"alert-card",src:t(2042).Z,width:"586",height:"313"})),(0,a.kt)("p",null,"You may receive ",(0,a.kt)("inlineCode",{parentName:"p"},"v2/notifyPluginAlarmUpate")," depend on your setting on Allxon Portal like the image below. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "method": "v2/notifyPluginAlarmUpdate?authorization=$argon2id$v=19$m=64,t=16,p=8$Y1JmLkNDUjRkeFJ7UDBlOQ$qZPxG/iWuZTKQzbsvr86wg",\n    "params": {\n        "appGUID": "a8e873a1-e5df-43a2-928a-745ff9c94dfb",\n        "epoch": "1664259814"\n    }\n}\n')),(0,a.kt)("p",null,'Let\'s setting Alert Card on Allxon Portal to connect a webhook. Click "Edit" -> "webhook icon" -> choose a webhook preset -> "Next" -> "Save".'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"alert-edit",src:t(9428).Z,width:"583",height:"316"})),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"alert-preset",src:t(260).Z,width:"628",height:"443"})),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"alert-finished",src:t(2591).Z,width:"587",height:"314"})),(0,a.kt)("p",null,"After setting, Plugin should received new ",(0,a.kt)("inlineCode",{parentName:"p"},"v2/notifyPluginAlarmUpdate")," below to notify Plugin that Alarm setting updated. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json",metastring:"{12-17}","{12-17}":!0},'{\n    "jsonrpc": "2.0",\n    "method": "v2/notifyPluginAlarmUpdate?authorization=$argon2id$v=19$m=64,t=16,p=8$J2chRypQWmxLLGl4O04zXg$KUvzIkRhS8Ao+FYTysdSWA",\n    "params": {\n        "appGUID": "a8e873a1-e5df-43a2-928a-745ff9c94dfb",\n        "epoch": "1664268028",\n        "version": "1.0.1",\n        "modules": [\n            {\n                "moduleName": "plugin-hello",\n                "epoch": "1664268022",\n                "alarms": [\n                    {\n                        "enabled": true,\n                        "name": "hello_alarm"\n                    }\n                ]\n            }\n        ]\n    }\n}\n')),(0,a.kt)("p",null,"This can tell Plugin which alert should be enabled. Finally, try to send a ",(0,a.kt)("inlineCode",{parentName:"p"},"v2/notifyPluginAlert")," below to test Alert function."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "method": "v2/notifyPluginAlert",\n    "params": {\n        "appGUID": "a8e873a1-e5df-43a2-928a-745ff9c94dfb",\n        "moduleName": "plugin-hello",\n        "epoch": "1664268861",\n        "alarms": [\n            {\n                "name": "hello_alarm",\n                "action": "trigger",\n                "time": "1664268861",\n                "message": "Hello Buzz ~"\n            }\n        ]\n    }\n}\n')),(0,a.kt)("p",null,"And you should received message on your connected webhook service. At the same time, Allxon Portal add a new record on Alert page."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"alert-trigger",src:t(4869).Z,width:"1001",height:"944"})))}d.isMDXComponent=!0},2042:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/alert-card-95859e209dc0ba855284e6f1d28bf089.png"},9428:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/alert-edit-b4302cfc45e808223fbbecf6948d9eea.png"},2591:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/alert-finished-6e7660d9a0e239652599a6a4d8c984e6.png"},260:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/alert-preset-9d50f199949cd9f16c24ca2541843fb0.png"},2445:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/alert-sequence-706070dca9d8414659188e8ef2bae51d.png"},4869:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/alert-trigger-0ae0430a04ec87f2404378fdf2ea7a3a.png"}}]);